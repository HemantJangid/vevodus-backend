CREATE TABLE VD_STATES (
    STATE_ID int NOT NULL IDENTITY(1,1),
    NAME varchar(30),
	CODE varchar(5)
    PRIMARY KEY (STATE_ID)
);


CREATE TABLE VD_CITIES(
    CITY_ID int NOT NULL IDENTITY(1,1),
    NAME varchar(30),
	STATE_ID int, 
	status BIT,
	PRIMARY KEY (CITY_ID),
	CONSTRAINT FK_VD_CITIES_STATE_ID FOREIGN KEY (STATE_ID) REFERENCES VD_STATES(STATE_ID)
)



CREATE TABLE VD_LOCATION(
    LOCATION_ID int NOT NULL IDENTITY(1,1),
    PINCODE int,
	CITY_ID int, 
	status BIT,
	PRIMARY KEY (LOCATION_ID),
	CONSTRAINT FK_VD_LOCATION_CITY_ID FOREIGN KEY (CITY_ID) REFERENCES VD_CITIES(CITY_ID)
)


create table VD_USER_PROFILE(
	USER_ID int not null identity(1,1),
	Name varchar(30),
	MOBILE varchar(15),
	EMAILADRESS varchar(30),
	PRIMARY KEY (USER_ID)

);

create table VD_USER_ADRESS(
	USER_ID int not null,
	ADRESS varchar(100),
	NEAR_BY_LANDMARK varchar(35),
	LOCATION_ID int not  null,
	DEFAULT_ADRESS bit,
	CONSTRAINT FK_VD_USER_ADRESS_USER_ID FOREIGN KEY (USER_ID) REFERENCES VD_USER_PROFILE(USER_ID),
	CONSTRAINT FK_VD_LOCATION_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES VD_LOCATION(LOCATION_ID)
);

create table USER_ROLE(
	USER_ID int not null,
	ROLE varchar(10),
	CONSTRAINT FK_USER_ROLE_USER_ID FOREIGN KEY (USER_ID) REFERENCES VD_USER_PROFILE(USER_ID),

);



create table USER_PHOTO(
	PHOTO_ID int not null IDENTITY(1,1),
	USER_ID int not null,
	PHOTO_ADRESS varchar(30),
	VERIFIED bit,
	PRIMARY KEY (PHOTO_ID),
	CONSTRAINT FK_USER_PHOTO_USER_ID FOREIGN KEY (USER_ID) REFERENCES VD_USER_PROFILE(USER_ID),

);

CREATE TABLE VD_SHOP (
    SHOP_ID int NOT NULL IDENTITY(1,1),
    NAME varchar(30),
	LAT varchar(15),
	LANG varchar(15),
	ADRESS varchar(100),
	LOCATION_ID int not null,
	BROADER_CATEGORY varchar(20),
	GST varchar(18),
	VERIFIED bit,

    PRIMARY KEY (SHOP_ID),
CONSTRAINT FK_VD_SHOP_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES VD_LOCATION(LOCATION_ID)

);


create table VD_SHOP_CATEGORY(
SHOP_ID int not null ,
CATEGORY_ID int not null,
CONSTRAINT FK_VD_SHOP_CATEGORY_SHOP_ID FOREIGN KEY (SHOP_ID) REFERENCES VD_SHOP(SHOP_ID),
CONSTRAINT FK_VD_SHOP_CATEGORY_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES VD_CATEGORY(CATEGORY_ID)

);


create table VD_SHOP_OWNER(
SHOP_ID int not null ,
USER_ID int not null,
CONSTRAINT FK_VD_SHOP_OWNER_SHOP_ID FOREIGN KEY (SHOP_ID) REFERENCES VD_SHOP(SHOP_ID),
CONSTRAINT FK_VD_SHOP_OWNER_USER_ID FOREIGN KEY (USER_ID) REFERENCES VD_USER_PROFILE(USER_ID)
);

create table SHOP_PHOTO(
	PHOTO_ID int not null IDENTITY(1,1),
	SHOP_ID int not null,
	PHOTO_ADRESS varchar(30),
	VERIFIED bit,
	PRIMARY KEY (PHOTO_ID),
	CONSTRAINT FK_VD_SHOP_PHOTO_SHOP_ID FOREIGN KEY (SHOP_ID) REFERENCES VD_SHOP(SHOP_ID),

);


create table VD_CATEGORY(
	CATEGORY_ID int NOT NULL IDENTITY(1,1),
	CATEGORY_NAME varchar(30),
	SUB_CATEGORY varchar(30),
	VERTICAL varchar(30),
	PRIMARY KEY (CATEGORY_ID)
);


create table VD_PRODUCT(
	PRODUCT_ID int not null IDENTITY(1,1),
	NAME varchar(20),
	MRP int not null,
	SP int not null,
	CATEGORY_ID int,
	PRIMARY KEY (PRODUCT_ID),
	CONSTRAINT FK_VD_PRODUCT_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES VD_CATEGORY(CATEGORY_ID)


);

create table VD_BRAND(
BRAND_ID int not null IDENTITY(1,1),
BRAND_NAME varchar(30),
primary key(BRAND_ID)
);

create table VD_PRODUCT_PHOTO(
	PHOTO_ID int not null IDENTITY(1,1),
	PRODUCT_ID int not null,
	PHOTO_ADRESS varchar(30),
	VERIFIED bit,
	PRIMARY KEY (PHOTO_ID),
	CONSTRAINT FK_VD_PRODUCT_PHOTO_PRODUCT_ID FOREIGN KEY (PRODUCT_ID) REFERENCES VD_PRODUCT(PRODUCT_ID),

);

create table VD_PRODUCT_DETAILS(
	PRODUCT_ID int not null,
	BRAND_ID int not null,
	SHOP_ID int not null,
	QUANTITY int not null,
	PRODUCT_SPECIFICATION varchar(30),
	RETURN_POLICY bit,
	CONSTRAINT FK_VD_PRODUCT_DETAILS_PRODUCT_ID FOREIGN KEY (PRODUCT_ID) REFERENCES VD_PRODUCT(PRODUCT_ID),
	CONSTRAINT FK_VD_PRODUCT_DETAILS_BRAND_ID FOREIGN KEY (BRAND_ID) REFERENCES VD_BRAND(BRAND_ID),
	CONSTRAINT FK_VD_PRODUCT_DETAILS_SHOP_ID FOREIGN KEY (SHOP_ID) REFERENCES VD_SHOP(SHOP_ID),



);

create table VD_PRODCUT_ATTRIBUTES(
	PRODUCT_ID int not null,
	ATTR_NAME varchar(20),
	ATTR_VAL varchar(20),
	CONSTRAINT FK_VD_PRODCUT_ATTRIBUTES_PRODUCT_ID FOREIGN KEY (PRODUCT_ID) REFERENCES VD_PRODUCT(PRODUCT_ID),

)



